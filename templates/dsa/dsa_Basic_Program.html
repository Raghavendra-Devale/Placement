<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PrepSmart - Math Practice</title>
    <link rel="icon" type="image/png" href="assets/img/favicon.ico" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <!-- Bootstrap core CSS -->
    <link
      href="{{ url_for('static', filename='assets/css/bootstrap.min.css') }}"
      rel="stylesheet"
    />

    <!-- Animation library for notifications -->
    <link
      href="{{ url_for('static', filename='assets/css/animate.min.css') }}"
      rel="stylesheet"
    />

    <!-- Light Bootstrap Table core CSS -->
    <link
      href="{{ url_for('static', filename='assets/css/light-bootstrap-dashboard.css') }}"
      rel="stylesheet"
    />

    <!-- CSS for Demo Purpose -->
    <link
      href="{{ url_for('static', filename='assets/css/demo.css') }}"
      rel="stylesheet"
    />

    <!-- Fonts and icons -->
    <link
      href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Roboto:400,700,300"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="{{ url_for('static', filename='assets/css/pe-icon-7-stroke.css') }}"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="wrapper">
      <!-- Sidebar -->
      <div class="sidebar" data-color="purple">
        <div class="sidebar-wrapper">
          <div class="logo">
            <a href="#" class="simple-text"> Prep_Smart </a>
          </div>

          <ul class="nav">
            <li class="active">
              <a href="{{ url_for('dashboard') }}">
                <i class="pe-7s-graph"></i>
                <p>Dashboard</p>
              </a>
            </li>
            <li>
              <a href="{{ url_for('user') }}">
                <i class="pe-7s-user"></i>
                <p>User Profile</p>
              </a>
            </li>
            <li>
              <a href="{{ url_for('aptitude') }}">
                <i class="pe-7s-note2"></i>
                <p>Aptitude Preparation</p>
              </a>
            </li>
            <li>
              <a href="{{ url_for('communication') }}">
                <i class="pe-7s-news-paper"></i>
                <p>Communication Skills</p>
              </a>
            </li>
            <li>
              <a href="{{ url_for('dsa') }}">
                <i class="pe-7s-science"></i>
                <p>DSA</p>
              </a>
            </li>
            <li>
              <a href="{{ url_for('interview') }}">
                <i class="pe-7s-map-marker"></i>
                <p>Interview Preparation</p>
              </a>
            </li>
            <li>
              <a href="{{ url_for('notifications') }}">
                <i class="pe-7s-bell"></i>
                <p>Notifications</p>
              </a>
            </li>
            <li class="active-pro">
              <a href="{{ url_for('home') }}">
                <i class="pe-7s-rocket"></i>
                <p>Home</p>
              </a>
            </li>
          </ul>
        </div>
      </div>

      <!-- Main Panel -->
      <div class="main-panel">
        <!-- Navbar -->
        <nav class="navbar navbar-default">
          <div class="container-fluid">
            <div class="navbar-header">
              <a class="navbar-brand" href="#">Basic programming </a>
            </div>
          </div>
        </nav>
        <div class="content">
          <div class="container-fluid">
            <div class="row">
              <div class="col-md-12">
                <div class="card">
                  <div class="header">
                    <h4 class="title">Basic Programming Questions</h4>
                    <p class="category">
                      Practice these fundamental programming concepts to build
                      your foundation
                    </p>
                  </div>
                  <div class="content">
                    <div class="table-responsive">
                      <table class="table table-hover">
                        <thead>
                          <tr>
                            <th>Problem</th>
                            <th>Description</th>
                            <th>Difficulty</th>
                            <th>Practice Link</th>
                            <th>Video Solution</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <td>Print "Hello World"</td>
                            <td>
                              Write a program to output "Hello World". Learn
                              basic syntax and program structure. This is the
                              traditional first program for beginners.
                            </td>
                            <td>Easy</td>
                            <td>
                              <a
                                href="https://practice.geeksforgeeks.org/problems/c-hello-world3402/1"
                                target="_blank"
                                >GeeksforGeeks</a
                              >
                            </td>
                            <td>
                              <a
                                href="https://www.youtube.com/watch?v=5u9vB7QIZfs"
                                target="_blank"
                                >Watch Solution</a
                              >
                            </td>
                          </tr>
                          <tr>
                            <td>Sum of Two Numbers</td>
                            <td>
                              Create a program that takes two numbers as input
                              and prints their sum. Learn about variables, user
                              input, and basic arithmetic operations.
                            </td>
                            <td>Easy</td>
                            <td>
                              <a
                                href="https://practice.geeksforgeeks.org/problems/sum-of-numbers3605/1"
                                target="_blank"
                                >GeeksforGeeks</a
                              >
                            </td>
                            <td>
                              <a
                                href="https://www.youtube.com/watch?v=LJ-6e1lHzqs"
                                target="_blank"
                                >Watch Solution</a
                              >
                            </td>
                          </tr>
                          <tr>
                            <td>Check Even or Odd</td>
                            <td>
                              Determine if a given number is even or odd using
                              conditional statements and modulo operator.
                              Practice if-else conditions and basic logic.
                            </td>
                            <td>Easy</td>
                            <td>
                              <a
                                href="https://practice.geeksforgeeks.org/problems/odd-or-even3618/1"
                                target="_blank"
                                >GeeksforGeeks</a
                              >
                            </td>
                            <td>
                              <a
                                href="https://www.youtube.com/watch?v=0n7lXWHrqVY"
                                target="_blank"
                                >Watch Solution</a
                              >
                            </td>
                          </tr>
                          <tr>
                            <td>Factorial of Number</td>
                            <td>
                              Calculate factorial of a number using loops and
                              recursion. Learn function implementation,
                              recursive thinking, and handling large numbers.
                            </td>
                            <td>Medium</td>
                            <td>
                              <a
                                href="https://leetcode.com/problems/factorial-trailing-zeroes/"
                                target="_blank"
                                >LeetCode</a
                              >
                            </td>
                            <td>
                              <a
                                href="https://www.youtube.com/watch?v=lJ3CD9M3nEQ"
                                target="_blank"
                                >Watch Solution</a
                              >
                            </td>
                          </tr>
                          <tr>
                            <td>Check Prime Number</td>
                            <td>
                              Write a program to check if a number is prime.
                              Implement efficient algorithms using loops and
                              mathematical optimization techniques.
                            </td>
                            <td>Medium</td>
                            <td>
                              <a
                                href="https://practice.geeksforgeeks.org/problems/prime-number2314/1"
                                target="_blank"
                                >GeeksforGeeks</a
                              >
                            </td>
                            <td>
                              <a
                                href="https://www.youtube.com/watch?v=5qJ4Ck0tHfE"
                                target="_blank"
                                >Watch Solution</a
                              >
                            </td>
                          </tr>
                          <tr>
                            <td>Fibonacci Series</td>
                            <td>
                              Generate Fibonacci sequence up to n terms. Learn
                              about sequence generation, dynamic programming
                              concepts, and memory optimization.
                            </td>
                            <td>Medium</td>
                            <td>
                              <a
                                href="https://leetcode.com/problems/fibonacci-number/"
                                target="_blank"
                                >LeetCode</a
                              >
                            </td>
                            <td>
                              <a
                                href="https://www.youtube.com/watch?v=K3hlxOhxn9I"
                                target="_blank"
                                >Watch Solution</a
                              >
                            </td>
                          </tr>
                          <tr>
                            <td>Reverse String</td>
                            <td>
                              Write a program to reverse a given string.
                              Practice string manipulation, array operations,
                              and in-place algorithms.
                            </td>
                            <td>Medium</td>
                            <td>
                              <a
                                href="https://leetcode.com/problems/reverse-string/"
                                target="_blank"
                                >LeetCode</a
                              >
                            </td>
                            <td>
                              <a
                                href="https://www.youtube.com/watch?v=_d0T_2Lk2qA"
                                target="_blank"
                                >Watch Solution</a
                              >
                            </td>
                          </tr>
                          <tr>
                            <td>Pattern Printing</td>
                            <td>
                              Print various patterns using nested loops. Enhance
                              understanding of loop control, pattern
                              recognition, and problem-solving skills.
                            </td>
                            <td>Medium</td>
                            <td>
                              <a
                                href="https://practice.geeksforgeeks.org/problems/square-pattern/1"
                                target="_blank"
                                >GeeksforGeeks</a
                              >
                            </td>
                            <td>
                              <a
                                href="https://www.youtube.com/watch?v=lsOOs5J8ycw"
                                target="_blank"
                                >Watch Solution</a
                              >
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <script>
          document.addEventListener("DOMContentLoaded", function () {
            const rows = document.querySelectorAll("tbody tr");

            rows.forEach((row, index) => {
              // Create button cell
              const buttonCell = document.createElement("td");
              const button = document.createElement("button");
              button.className = "btn btn-default btn-sm";
              button.innerHTML = "Mark Complete";
              button.onclick = function () {
                toggleProblemStatus(index);
              };

              buttonCell.appendChild(button);
              row.appendChild(buttonCell);
            });

            // Load saved progress
            loadStudentProgress();
          });

          async function toggleProblemStatus(problemIndex) {
    try {
        const response = await fetch("/update_progress", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
            },
            body: JSON.stringify({
                question_id: problemIndex + 1,
                topic_id: 1
            }),
        });

        const data = await response.json();

        if (response.ok && data.success) {
            updateButtonStatus(problemIndex, true);
            loadStudentProgress();
            alert("Progress updated successfully!");
        } else if (data.message === 'Question already completed!') {
            alert("You've already completed this question!");
        } else {
            throw new Error(data.message || "Failed to save progress");
        }
    } catch (error) {
        console.error("Error saving progress:", error);
        alert("Failed to save progress. Please try again.");
    }
}


async function loadStudentProgress() {
    try {
        const response = await fetch("/student_progress?topic_id=1");
        if (!response.ok) throw new Error("Failed to load progress");

        const data = await response.json();
        if (data.completed_questions > 0) {
            for (let i = 0; i < data.completed_questions; i++) {
                updateButtonStatus(i, true);
            }
            updateProgressCount(data.completed_questions, 8);
        }
    } catch (error) {
        console.error("Error loading progress:", error);
    }
}

function updateButtonStatus(index, completed) {
    const button = document.querySelectorAll("tbody tr")[index].querySelector("button");
    button.className = completed ? "btn btn-success btn-sm" : "btn btn-default btn-sm";
    button.innerHTML = completed ? "Completed" : "Mark Complete";
}

function updateProgressCount(completedCount, totalProblems) {
    let progressDisplay = document.getElementById("progress-display") || document.createElement("div");
    progressDisplay.id = "progress-display";
    progressDisplay.innerHTML = `Progress: ${completedCount}/${totalProblems} problems completed`;
    document.querySelector(".content").appendChild(progressDisplay);
}


        </script>
      </div>
    </div>
  </body>
</html>

